# grab the current OS
OS=$(uname)

# Add OSX specific directories to PATH
if [ $OS == "Darwin" ]; then
  export PATH="/usr/local/bin:$PATH"
  export PATH="/usr/local/sbin:$PATH"
  export PATH="$PATH:$HOME/Dropbox/bin"
fi

# Add the current folder to PATH
export PATH=$PATH:.

# Add Vim as the default editor
export EDITOR=vim
export CVSEDITOR=vim
export SVN_EDITOR=vim

# Regular Colors
txtrst='\e[0m'          # Text Reset
Black='\e[0;30m'        # Black
Red='\e[0;31m'          # Red
Green='\e[0;32m'        # Green
Yellow='\e[0;33m'       # Yellow
Blue='\e[0;34m'         # Blue
Purple='\e[0;35m'       # Purple
Cyan='\e[0;36m'         # Cyan
White='\e[0;37m'        # White

# Bold Colors
BBlack='\e[1;30m'       # Black
BRed='\e[1;31m'         # Red
BGreen='\e[1;32m'       # Green
BYellow='\e[1;33m'      # Yellow
BBlue='\e[1;34m'        # Blue
BPurple='\e[1;35m'      # Purple
BCyan='\e[1;36m'        # Cyan
BWhite='\e[1;37m'       # White

# Enable use of git in the shell environment/prompt
if [ -f /usr/local/Cellar/git/1.7.8/etc/bash_completion.d/git-completion.bash ]; then
  . /usr/local/Cellar/git/1.7.8/etc/bash_completion.d/git-completion.bash
  GIT_PS1_SHOWDIRTYSTATE=true
elif [ -f /usr/local/etc/bash_completion.d/git-completion.bash ]; then
  . /usr/local/etc/bash_completion.d/git-completion.bash
  GIT_PS1_SHOWDIRTYSTATE=true
elif [ -f /usr/local/git/contrib/completion/git-completion.bash ]; then
  . /usr/local/git/contrib/completion/git-completion.bash
  GIT_PS1_SHOWDIRTYSTATE=true
elif [ -f  /usr/local/share/git-core/contrib/completion/git-completion.bash ]; then
  . /usr/local/share/git-core/contrib/completion/git-completion.bash
  GIT_PS1_SHOWDIRTYSTATE=true
elif [ -f  /usr/share/git/completion/git-completion.bash ]; then
  . /usr/share/git/completion/git-completion.bash
  GIT_PS1_SHOWDIRTYSTATE=true
fi

if [ -f /opt/local/etc/bash_completion ]; then
  . /opt/local/etc/bash_completion
fi

PS1="\n${BYellow}[${txtrst} \h-${BGreen}\u${txtrst} \w\$(__git_ps1) ${BYellow}]${txtrst}\n $ "

# Aliases to make the CLI a little easier to handle
alias cs="clear"
alias cdcs="cd ~ && clear"
alias cscd="cd ~ && clear"
alias grep="grep --color=auto"
alias df="df -h"
alias du="du -shc"
alias top="htop"
alias apt="sudo apt-get"

if [ $OS == "Darwin" -o $OS == "FreeBSD" ]; then
  alias ls="ls -hG"
  alias ll="ls -hlG"
  alias la="ls -hlaG"
else
  alias ls="ls -h --color=always --group-directories-first"
  alias ll="ls -hl --color=always --group-directories-first"
  alias la="ls -hla --color=always --group-directories-first"
fi

# Aliases for git
alias gstat="git status"
alias gpush="git push origin master"
alias gpull="git pull origin master"
alias gdiff="git diff"
alias ghist="git log --pretty=format:\"%h %ad | %s%d [%an]\" --graph --date=short"

# This adds color to man pages
export PAGER="more"

# Load rbenv
[[ -d $HOME/.rbenv ]] && source $HOME/.rbenvrc

# Load phpenv
[[ -d $HOME/.phpenv ]] && source $HOME/.phpenvrc
